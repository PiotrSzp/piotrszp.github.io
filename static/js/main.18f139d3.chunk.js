(window["webpackJsonpreact-redux-fetch-todo"]=window["webpackJsonpreact-redux-fetch-todo"]||[]).push([[0],{30:function(t,e,n){t.exports=n(41)},35:function(t,e,n){},41:function(t,e,n){"use strict";n.r(e);var o=n(0),r=n.n(o),a=n(18),c=n.n(a),i=(n(35),n(7)),l=n(8),u=n(10),s=n(9),d=n(11),p=n(17),f=n(15),h=n(13),m=n(14),O=n(27),b=n(28);function y(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,o)}return n}function j(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?y(n,!0).forEach(function(e){Object(b.a)(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):y(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var E={todosList:[],newTodo:{}},T=Object(m.c)({todos:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"FETCH_TODOS":return j({},t,{todosList:e.payload});case"ADD_TODO":return j({},t,{newTodo:j({},e.payload,{id:Math.random()})});case"TOGGLE_TODO":var n=t.todosList.map(function(t){return{id:t.id,title:t.title,completed:t.id===e.payload?!t.completed:t.completed}});return j({},t,{todosList:n});case"DEL_TODO":return j({},t,{todosList:t.todosList.filter(function(t){return t.id!==e.payload})});default:return t}}}),v=[O.a],g=Object(m.e)(T,{},Object(m.d)(m.a.apply(void 0,v),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__())),D=function(t){function e(){var t,n;Object(i.a)(this,e);for(var o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return(n=Object(u.a)(this,(t=Object(s.a)(e)).call.apply(t,[this].concat(r)))).toggleTodo=function(t){t.preventDefault(),"function"===typeof n.props.toggleTodo&&n.props.toggleTodo(n.props.todo)},n.delTodo=function(t){t.preventDefault(),t.stopPropagation(),n.props.delTodo(n.props.todo.id)},n}return Object(d.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){return r.a.createElement("div",{className:this.props.todo.completed?"todo-item completed":"todo-item",onClick:this.toggleTodo},r.a.createElement("p",null,this.props.todo.title),r.a.createElement("i",{className:"far fa-trash-alt",onClick:this.delTodo}))}}]),e}(o.Component),w=Object(h.b)(null,{toggleTodo:function(t){return function(e){fetch("http://jsonplaceholder.typicode.com/todos/".concat(t.id),{method:"PATCH",headers:{"content-type":"application/json; charset=UTF-8"},body:JSON.stringify({completed:!t.completed})}).then(function(t){return t.json()}).then(function(t){return e({type:"TOGGLE_TODO",payload:t.id})})}},delTodo:function(t){return function(e){fetch("http://jsonplaceholder.typicode.com/todos/".concat(t),{method:"DELETE"}).then(function(t){return t.json()}).then(function(n){return e({type:"DEL_TODO",payload:t})})}}})(D),_=function(t){function e(){return Object(i.a)(this,e),Object(u.a)(this,Object(s.a)(e).apply(this,arguments))}return Object(d.a)(e,t),Object(l.a)(e,[{key:"componentDidMount",value:function(){this.props.fetchTodos()}},{key:"shouldComponentUpdate",value:function(t){return t.newTodo&&this.props.todos.unshift(t.newTodo),!!t.newTodo}},{key:"render",value:function(){return r.a.createElement("section",{className:"todos"},this.props.todos.map(function(t){return r.a.createElement(w,{key:t.id,todo:t})}))}}]),e}(o.Component),S=Object(h.b)(function(t){return{todos:t.todos.todosList,newTodo:t.todos.newTodo}},{fetchTodos:function(){return function(t){fetch("https://jsonplaceholder.typicode.com/todos?_limit=5").then(function(t){return t.json()}).then(function(e){return t({type:"FETCH_TODOS",payload:e})})}}})(_);var L=function(){return r.a.createElement("header",null,r.a.createElement("h1",null,"To Do List"),r.a.createElement("nav",null,r.a.createElement(p.b,{to:"/"},"Home")," | ",r.a.createElement(p.b,{to:"/about"},"About")))},k=function(t){function e(){return Object(i.a)(this,e),Object(u.a)(this,Object(s.a)(e).apply(this,arguments))}return Object(d.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){return r.a.createElement("section",{className:"container"},r.a.createElement("h2",null,"About App"),r.a.createElement("p",null,"This is To Do List App v1.0.0. "),r.a.createElement("p",null,"I did it as an exercise of react, react-router, redux and fetching API."),r.a.createElement("p",null,"\xa9 Piotr Szporko 2019"))}}]),e}(o.Component),A=function(t){function e(){var t,n;Object(i.a)(this,e);for(var o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return(n=Object(u.a)(this,(t=Object(s.a)(e)).call.apply(t,[this].concat(r)))).state={title:""},n.onChange=function(t){t.preventDefault(),n.setState({title:t.target.value})},n.onSubmit=function(t){t.preventDefault(),n.state.title.trim().length>0&&n.props.addTodo(n.state.title),n.setState({title:""})},n}return Object(d.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){return r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("input",{type:"text",name:"title",placeholder:"Add task...",value:this.state.title,onChange:this.onChange}),r.a.createElement("button",{type:"submit",name:"submit"},"ADD TASK"))}}]),e}(o.Component),C=Object(h.b)(null,{addTodo:function(t){return function(e){fetch("http://jsonplaceholder.typicode.com/todos",{method:"POST",headers:{"content-type":"application/json; charset=UTF-8"},body:JSON.stringify({title:t})}).then(function(t){return t.json()}).then(function(t){return e({type:"ADD_TODO",payload:t})})}}})(A),P=function(t){function e(){return Object(i.a)(this,e),Object(u.a)(this,Object(s.a)(e).apply(this,arguments))}return Object(d.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){return r.a.createElement(h.a,{store:g},r.a.createElement(p.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(L,null),r.a.createElement(f.a,{exact:!0,path:"/",render:function(t){return r.a.createElement(r.a.Fragment,null,r.a.createElement(C,null),r.a.createElement(S,null))}}),r.a.createElement(f.a,{path:"/about",component:k}))))}}]),e}(o.Component);c.a.render(r.a.createElement(P,null),document.getElementById("root"))}},[[30,1,2]]]);
//# sourceMappingURL=main.18f139d3.chunk.js.map